# Maintainer:  danyf90 <daniele.formichelli@gmail.com>
# Contributor: kdekda <chakra-project.org||it>
# Contributor: <abveritas@chakra-project.org>
# Contributor: Daniel Micay <danielmicay@gmail.com>

pkgname=android-sdk
pkgver=r23.0.5
pkgrel=1
pkgdesc='Google Android SDK'
arch=('x86_64')
url="http://developer.android.com/sdk/index.html"
license=('custom')
depends=('java-environment' 'lib32-alsa-lib' 'lib32-openal' 'lib32-libstdc++5'
           'lib32-libxv' 'lib32-mesa' 'lib32-ncurses' 'lib32-sdl' 'lib32-zlib')
install=$pkgname.install
optdepends=('android-udev: udev rules for Android devices'
            'android-sdk-platform-tools: adb, aapt, aidl, dexdump and dx'
            'swt: for gui')
source=("https://dl-ssl.google.com/android/repository/tools_$pkgver-linux.zip"
        "$pkgname.desktop"
        "$pkgname.sh"
        "$pkgname.csh"
        "$pkgname.conf"
        "license.html")
sha512sums=('b085e0821e454f7bad491e2567c425d559d743c7722e1e38725db013aecef278ab443b90ffbf9d8e0e5ef82e8e52823307243f1227b097f072a9c2602c458f20'
            '3044cd6c10353f4fbbc531b6b436f4a01c7724614168974265639854134489ac914cee7a9945da27e04a9d76be8fad0107030719c8e7e0e4ea21a9b3dfb2d2f6'
            '7d3411714d2eaa6a3902bda7cea666efe375b133243f19de785ca2e501ee6815699cc097c6e5ce2c2aee3e231ce91f20327822d79c5a5bd02d8d910e0a50e49d'
            '6f555b257fe4f541363218058e8106799999f02eeafba7687abfdaab903bcce7f8ce70d20aadfab412730e533d0ebb3d8066d9ba85e3ac1ef8070aedcb02aaf6'
            'e23fa38549f801a79323b47a5f7406e6961060710c526f859e1b0f6454c1b09687a1f9bf4850b1a127dbeac7a052946daf009a255804e3fed420d993912ccd7c'
            '23f1533682c39e2ae2ae40083de343abcd6ed0a523eacdac58768067f8f450b1cec30073993dd7b972a5b8125136ed29a043ae894dff046fd75bb04c4d21a0f4')

package() {
  cd $srcdir

  install -Dm755 $pkgname.sh $pkgdir/etc/profile.d/$pkgname.sh
  install -Dm755 $pkgname.csh $pkgdir/etc/profile.d/$pkgname.csh
  install -Dm644 $pkgname.conf $pkgdir/etc/ld.so.conf.d/$pkgname.conf

  install -d $pkgdir/opt/$pkgname
  cp -a tools $pkgdir/opt/$pkgname
  install -Dm644 android_icon_128.png $pkgdir/usr/share/pixmaps/$pkgname.png
  install -Dm644 $pkgname.desktop $pkgdir/usr/share/applications/$pkgname.desktop
  install -Dm644 license.html $pkgdir/usr/share/licenses/$pkgname/license.html

  # Fix broken permissions
  chmod -R o=g $pkgdir/opt/$pkgname
}
