# Maintainer:   danyf90 <daniele.formichelli@gmail.com>
# Contributors: rudefyet <matt@freedomwarepc.com>
# Contributors: Farhad Shahbazi <farhad@enthusiasm.cc>,Lucky <archlinux@builds.lucky.li>

pkgname=puddletag
pkgver=1.0.3
pkgrel=1
pkgdesc="An audio tag editor for GNU/Linux (like Mp3tag)"
url="http://puddletag.sourceforge.net"
license=("GPL")
arch=("x86_64")
depends=('chromaprint' 'mutagen' 'python2-configobj' 'python2-musicbrainz2' 'python2-pyparsing' 'python2-pyqt4')
optdepends=('python2-pillow: FLAC cover art'
            'quodlibet: QuodLibet library support')
source=("http://downloads.sourceforge.net/project/$pkgname/$pkgname-$pkgver.tar.gz")
sha512sums=('fc6f2c95f5e9d61a1b6aafa7a46ce7612d98e91fee0a480b3dcdadf1ce456bc9d453d49e42b29953493bcd282a52b310524497c036736aea0b5d14a5689f9002')
screenshot="http://puddletag.sourceforge.net/_images/5.png"

build() {
  cd $srcdir/$pkgname-$pkgver

  sed -i 's|^#!.*python$|#!/usr/bin/python2|' $(grep -rl '^#!.*python')

  python2 setup.py config
}

package() {
  cd $srcdir/$pkgname-$pkgver

  python2 setup.py install --prefix=$pkgdir/usr --optimize=1
}

